// src/handlers/about.js

exports.handleAbout = async (bot, input, msgId) => {
  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º chatId –∏–∑ input (query –∏–ª–∏ msg)
  const chatId =
    input?.message?.chat?.id ||
    input?.chat?.id ||
    input?.from?.id;

  if (!chatId) {
    console.error('ABOUT ERROR: chatId –Ω–µ –Ω–∞–π–¥–µ–Ω');
    return;
  }

  const text =
    'üé™ *–¶–∏—Ä–∫ –ù–∏–∫—É–ª–∏–Ω–∞ ‚Äî –∏—Å—Ç–æ—Ä–∏—è –∏ —Ç—Ä–∞–¥–∏—Ü–∏–∏* üé™\n\n' +
    '*üìç –ê–¥—Ä–µ—Å:* –ú–æ—Å–∫–≤–∞, –¶–≤–µ—Ç–Ω–æ–π –±—É–ª—å–≤–∞—Ä, –¥–æ–º 13\n' +
    '*üìû –¢–µ–ª–µ—Ñ–æ–Ω:* +7 (495) 628-8349\n\n' +
    '*üèõ –û–¥–∏–Ω –∏–∑ —Å—Ç–∞—Ä–µ–π—à–∏—Ö —Ü–∏—Ä–∫–æ–≤ –†–æ—Å—Å–∏–∏.* –ó–¥–∞–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –≤ 1880 –≥–æ–¥—É –¥–ª—è —Ü–∏—Ä–∫–∞ –ê–ª—å–±–µ—Ä—Ç–∞ –°–∞–ª–∞–º–æ–Ω—Å–∫–æ–≥–æ. ' +
    '20 –æ–∫—Ç—è–±—Ä—è —Ç–æ–≥–æ –∂–µ –≥–æ–¥–∞ –ø—Ä–æ—à—ë–ª –ø–µ—Ä–≤—ã–π —Å–ø–µ–∫—Ç–∞–∫–ª—å: –ø—è—Ç—å —Ä—è–¥–æ–≤ –∫—Ä–µ—Å–µ–ª, –ª–æ–∂–∏, –±–µ–ª—å—ç—Ç–∞–∂, –≤—Ç–æ—Ä—ã–µ –º–µ—Å—Ç–∞ –Ω–∞ –ª–∞–≤–∫–∞—Ö –∏ –≥–∞–ª–µ—Ä–µ—è –¥–ª—è —Å—Ç–æ—è—á–∏—Ö –∑—Ä–∏—Ç–µ–ª–µ–π. ' +
    '–¶–∏—Ä–∫ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–ª—Å—è, –Ω–æ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞–≤–∞–ª—Å—è —Ü–µ–Ω—Ç—Ä–æ–º —Ü–∏—Ä–∫–æ–≤–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞.\n\n' +
    '*üåü –õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ –∞—Ä—Ç–∏—Å—Ç—ã.* –°—Ä–µ–¥–∏ –ø–µ—Ä–≤—ã—Ö –∑–≤—ë–∑–¥ ‚Äî –∫–ª–æ—É–Ω—ã, –¥—Ä–µ—Å—Å–∏—Ä–æ–≤—â–∏–∫–∏ –∏ –∞—Ä—Ç–∏—Å—Ç—ã —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞. ' +
    '–ü–æ–∑–¥–Ω–µ–µ —Ü–∏—Ä–∫ —Å—Ç–∞–ª –¥–æ–º–æ–º –≤–µ–ª–∏–∫–æ–≥–æ –∫–ª–æ—É–Ω–∞ –∏ –∞–∫—Ç—ë—Ä–∞ –Æ—Ä–∏—è –ù–∏–∫—É–ª–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã—Å—Ç—É–ø–∞–ª, —Ä—É–∫–æ–≤–æ–¥–∏–ª –∫–æ–ª–ª–µ–∫—Ç–∏–≤–æ–º –∏ —Å–¥–µ–ª–∞–ª –≤—Å—ë, —á—Ç–æ–±—ã —Ü–∏—Ä–∫ —Ä–∞–∑–≤–∏–≤–∞–ª—Å—è.\n\n' +
    '*üé≠ –ß—Ç–æ –º—ã –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º:* —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—Ä—Ç–∏—Å—Ç–∞—Ö, –Ω–æ–≤–æ—Å—Ç–∏ –∏ —É–¥–æ–±–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–æ–≤. ' +
    '–ü–æ–∫—É–ø–∫–∞ –±–∏–ª–µ—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞—Å—Å—ã –∏ —Å–∞–π—Ç.\n\n' +
    '–í—ã–±–∏—Ä–∞–π—Ç–µ —Ä–∞–∑–¥–µ–ª –≤ –º–µ–Ω—é üëá';

  const keyboard = {
    inline_keyboard: [
      [{ text: '‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', callback_data: 'back_to_menu' }]
    ]
  };

  // –ï—Å–ª–∏ –ø—Ä–∏—à–ª–∏ —á–µ—Ä–µ–∑ callback ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
  if (input?.message && msgId) {
    return bot.editMessageText(text, {
      chat_id: chatId,
      message_id: msgId,
      parse_mode: 'Markdown',
      reply_markup: keyboard
    });
  }

  // –ï—Å–ª–∏ –ø—Ä–∏—à–ª–æ –æ–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ
  return bot.sendMessage(chatId, text, {
    parse_mode: 'Markdown',
    reply_markup: keyboard
  });
};