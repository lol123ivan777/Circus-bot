// src/handlers/genres.js
const editSmart = require('../utils/editSmart');

const GENRE_DATA = {
  juggling: {
    title: 'üé™ –ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ',
    text:
      '*–ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ* ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –¥—Ä–µ–≤–Ω–∏—Ö —Ü–∏—Ä–∫–æ–≤—ã—Ö –∂–∞–Ω—Ä–æ–≤.\n' +
      '–ê—Ä—Ç–∏—Å—Ç—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –≤–∏—Ä—Ç—É–æ–∑–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ –º—è—á–∞–º–∏, –±—É–ª–∞–≤–∞–º–∏, –∫–æ–ª—å—Ü–∞–º–∏ –∏ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏.\n\n' +
      '–°–∫–æ—Ä–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è ‚Äî –≥–ª–∞–≤–Ω–æ–µ –≤ —ç—Ç–æ–º –∂–∞–Ω—Ä–µ.'
  },
  clown: {
    title: 'ü§° –ö–ª–æ—É–Ω–∞–¥–∞',
    text:
      '*–ö–ª–æ—É–Ω–∞–¥–∞* ‚Äî –∫–æ–º–∏—á–µ—Å–∫–∏–π –∂–∞–Ω—Ä —Ü–∏—Ä–∫–æ–≤–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞.\n' +
      '–ö–ª–æ—É–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—É–±–ª–∏–∫–æ–π, —Å–æ–∑–¥–∞—é—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –∏ —Å–æ–µ–¥–∏–Ω—è—é—Ç –Ω–æ–º–µ—Ä–∞ –º–µ–∂–¥—É —Å–æ–±–æ–π.\n\n' +
      '–Æ–º–æ—Ä, –ø–ª–∞—Å—Ç–∏–∫–∞ –∏ –∫–æ–Ω—Ç–∞–∫—Ç —Å–æ –∑—Ä–∏—Ç–µ–ª–µ–º ‚Äî –æ—Å–Ω–æ–≤–∞ –∫–ª–æ—É–Ω–∞–¥—ã.'
  },
  aerial: {
    title: 'ü§∏ –í–æ–∑–¥—É—à–Ω—ã–µ –≥–∏–º–Ω–∞—Å—Ç—ã',
    text:
      '*–í–æ–∑–¥—É—à–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞* ‚Äî —Ä–∞–±–æ—Ç–∞ –ø–æ–¥ –∫—É–ø–æ–ª–æ–º —Ü–∏—Ä–∫–∞.\n' +
      '–ü–æ–ª–æ—Ç–Ω–∞, —Ç—Ä–∞–ø–µ—Ü–∏–∏, –∫–æ–ª—å—Ü–∞ –∏ —Ä–µ–º–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∞—Ä—Ç–∏—Å—Ç–∞–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç—Ä—é–∫–∏ –Ω–∞ –≤—ã—Å–æ—Ç–µ.\n\n' +
      '–°–∏–ª–∞, –≥–∏–±–∫–æ—Å—Ç—å –∏ —á—É–≤—Å—Ç–≤–æ –±–∞–ª–∞–Ω—Å–∞ ‚Äî –∫–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–æ–º–µ—Ä–∞.'
  }
};

// –º–µ–Ω—é –∂–∞–Ω—Ä–æ–≤
exports.handleGenres = async (bot, input) => {
  const text =
    'üé≠ *–ñ–∞–Ω—Ä—ã —Ü–∏—Ä–∫–æ–≤–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞*\n\n' +
    '–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –∂–∞–Ω—Ä.';

  return editSmart(bot, input, text, {
    inline_keyboard: [
      [{ text: 'üé™ –ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ', callback_data: 'genre:juggling' }],
      [{ text: 'ü§° –ö–ª–æ—É–Ω–∞–¥–∞', callback_data: 'genre:clown' }],
      [{ text: 'ü§∏ –í–æ–∑–¥—É—à–Ω—ã–µ –≥–∏–º–Ω–∞—Å—Ç—ã', callback_data: 'genre:aerial' }],
      [{ text: '‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é', callback_data: 'back_to_menu' }]
    ]
  });
};

// –ø–æ–∫–∞–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞
exports.handleGenreItem = async (bot, query) => {
  const genreId = query.data.split(':')[1];
  const genre = GENRE_DATA[genreId];

  if (!genre) {
    return editSmart(bot, query, '*–ñ–∞–Ω—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.*', {
      inline_keyboard: [
        [{ text: '‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –∂–∞–Ω—Ä–∞–º', callback_data: 'genres' }],
        [{ text: '‚¨ÖÔ∏è –í –º–µ–Ω—é', callback_data: 'back_to_menu' }]
      ]
    });
  }

  const text = `*${genre.title}*\n\n${genre.text}`;

  return editSmart(bot, query, text, {
    inline_keyboard: [
      [{ text: '‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –∂–∞–Ω—Ä–∞–º', callback_data: 'genres' }],
      [{ text: '‚¨ÖÔ∏è –í –º–µ–Ω—é', callback_data: 'back_to_menu' }]
    ]
  });
};