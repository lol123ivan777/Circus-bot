// src/handlers/genres.js
const editSmart = require('../utils/editSmart');

// –±–∞–∑–∞ –∂–∞–Ω—Ä–æ–≤
const GENRE_DATA = {
  juggling: {
    title: "üé™ –ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ",
    text:
      "*–ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ* ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –¥—Ä–µ–≤–Ω–∏—Ö —Ü–∏—Ä–∫–æ–≤—ã—Ö –∂–∞–Ω—Ä–æ–≤.\n" +
      "–ê—Ä—Ç–∏—Å—Ç—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç –≤–∏—Ä—Ç—É–æ–∑–Ω–æ–µ –≤–ª–∞–¥–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏: –º—è—á–∞–º–∏, –±—É–ª–∞–≤–∞–º–∏, –∫–æ–ª—å—Ü–∞–º–∏.\n\n" +
      "–°–∫–æ—Ä–æ—Å—Ç—å, —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è ‚Äî –≥–ª–∞–≤–Ω–æ–µ –≤ —ç—Ç–æ–º –Ω–æ–º–µ—Ä–µ."
  },

  clown: {
    title: "ü§° –ö–ª–æ—É–Ω–∞–¥–∞",
    text:
      "*–ö–ª–æ—É–Ω–∞–¥–∞* ‚Äî —Å–µ—Ä–¥—Ü–µ —Ü–∏—Ä–∫–∞.\n" +
      "–Æ–º–æ—Ä, –∞–±—Å—É—Ä–¥, —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫–∞ –∏ —É–º–µ–Ω–∏–µ –æ–±—â–∞—Ç—å—Å—è —Å–æ –∑—Ä–∏—Ç–µ–ª–µ–º.\n\n" +
      "–ö–ª–æ—É–Ω—ã —Å–æ–∑–¥–∞—é—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ —Å–≤—è–∑—ã–≤–∞—é—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ —Ü–µ–ª–æ–µ."
  },

  aerial: {
    title: "ü§∏ –í–æ–∑–¥—É—à–Ω—ã–µ –≥–∏–º–Ω–∞—Å—Ç—ã",
    text:
      "*–í–æ–∑–¥—É—à–Ω–∞—è –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∞* ‚Äî —Ü–∏—Ä–∫–æ–≤–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ –Ω–∞ –≤—ã—Å–æ—Ç–µ.\n" +
      "–ê—Ä—Ç–∏—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –ø–æ–ª–æ—Ç–Ω–∞—Ö, —Ç—Ä–∞–ø–µ—Ü–∏—è—Ö, –∫–æ–ª—å—Ü–∞—Ö –∏ —Ä–µ–º–Ω—è—Ö.\n\n" +
      "–ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å–∏–ª—ã, –≥–∏–±–∫–æ—Å—Ç–∏ –∏ —Ä–∏—Å–∫–∞."
  }
};


// –º–µ–Ω—é –∂–∞–Ω—Ä–æ–≤
exports.handleGenres = async (bot, input) => {
  return editSmart(bot, input,
    "üé≠ *–ñ–∞–Ω—Ä—ã —Ü–∏—Ä–∫–æ–≤–æ–≥–æ –∏—Å–∫—É—Å—Å—Ç–≤–∞*\n\n" +
    "–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –∂–∞–Ω—Ä.",
    {
      inline_keyboard: [
        [{ text: "üé™ –ñ–æ–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ", callback_data: "genre:juggling" }],
        [{ text: "ü§° –ö–ª–æ—É–Ω–∞–¥–∞", callback_data: "genre:clown" }],
        [{ text: "ü§∏ –í–æ–∑–¥—É—à–Ω—ã–µ –≥–∏–º–Ω–∞—Å—Ç—ã", callback_data: "genre:aerial" }],
        [{ text: "‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data: "back_to_menu" }]
      ]
    }
  );
};


// –ø–æ–∫–∞–∑ –æ–ø–∏—Å–∞–Ω–∏—è –∂–∞–Ω—Ä–∞
exports.handleGenreItem = async (bot, query) => {
  const genreId = query.data.split(":")[1];
  const genre = GENRE_DATA[genreId];

  if (!genre) {
    return editSmart(bot, query, "*–ñ–∞–Ω—Ä –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.*", {
      inline_keyboard: [[{ text: "‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data: "genres" }]]
    });
  }

  const text = `*${genre.title}*\n\n${genre.text}`;

  return editSmart(bot, query, text, {
    inline_keyboard: [
      [{ text: "‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –∂–∞–Ω—Ä–∞–º", callback_data: "genres" }],
      [{ text: "‚¨ÖÔ∏è –í –º–µ–Ω—é", callback_data: "back_to_menu" }]
    ]
  });
};